<div style="display: flex; flex-direction: column; gap: 20px;">
    <div>
        <h2>âš¡ Actions / New</h2>
        <p>Create a new action</p>
    </div>

    <form
        method="POST"
        action="/actions"
        style="border-style: dashed; border-radius: 5px; padding: 20px; width: 32.5%; display: flex; flex-direction: column; gap: 10px;"
    >

        <input type="hidden" id="csrfToken" name="csrfToken" value="<%= csrfToken %>" />

        <div style="display: flex; flex-direction: column; gap: 5px;">
            <label for="name">ğŸ”¤ Name<span style="color: red;">*</span></label>
            <input
                type="text"
                id="name"
                name="name"
                placeholder="Google Search"
                value="<%= formData.name %>"
                style="width: 100%;"
                required
            >
            <small>A descriptive name for your action</small>
            <% if (error && error.includes('name')) { %>
                <small style="color: red;"><%= error %></small>
            <% } %>
        </div>

        <div style="display: flex; flex-direction: column; gap: 5px;">
            <label for="trigger">âš¡ Trigger<span style="color: red;">*</span></label>
            <div style="display: flex; align-items: center; gap: 5px;">
                <span style="font-size: 1.2em;">!</span>
                <input
                    type="text"
                    name="trigger"
                    id="trigger"
                    placeholder="g"
                    value="<%= formData.trigger %>"
                    style="width: 100%;"
                    required
                >
            </div>
            <small>The command to trigger this action (e.g., 'g' for Google)</small>
            <% if (error && error.includes('trigger')) { %>
                <small style="color: red;"><%= error %></small>
            <% } %>
        </div>

        <div style="display: flex; flex-direction: column; gap: 5px;">
            <label for="url">ğŸŒ URL<span style="color: red;">*</span></label>
            <input
                type="url"
                name="url"
                id="url"
                placeholder="https://google.com/search?q={query}"
                value="<%= formData.url %>"
                style="width: 100%;"
                required
            >
            <small>For search actions, use {query} where the search term should go</small>
            <% if (error && error.includes('url')) { %>
                <small style="color: red;"><%= error %></small>
            <% } %>
        </div>

        <div style="display: flex; flex-direction: column; gap: 5px;">
            <label for="actionType">ğŸ”„ Action Type<span style="color: red;">*</span></label>
            <select
                id="actionType"
                name="actionType"
                style="width: 100%;"
                required
            >
                <option value="search" <%= formData.actionType === 'search' ? 'selected' : '' %>>Search</option>
                <option value="redirect" <%= formData.actionType === 'redirect' ? 'selected' : '' %>>Redirect</option>
            </select>
        </div>

        <button type="submit" style="width: 100%;">Submit ğŸš€</button>
    </form>
</div>
