<section style="display: flex; flex-direction: column; gap: 20px;">
    <header>
        <h2>‚ö° Bookmarks / <%= bookmark.id %> / Actions / Create</h2>
        <p>Create a new redirect action for bookmark <%= bookmark.id %></p>
    </header>

    <form
        method="POST"
        action="/actions"
        style="border-style: solid; border-radius: 5px; padding: 20px; width: 32.5%; display: flex; flex-direction: column; gap: 10px;"

    >
        <input type="hidden" id="csrfToken" name="csrfToken" value="<%= csrfToken %>" />
        <input type="hidden" id="name" name="name" value="<%= bookmark.title %>" />
        <select id="actionType" name="actionType" style="display: none;">
            <option value="redirect" selected>Redirect</option>
        </select>

        <fieldset style="border: none; padding: 0; margin: 0;">
            <legend style="font-weight: bold; margin-bottom: 15px;">Action Details</legend>

            <div style="display: flex; flex-direction: column; gap: 5px; margin-bottom: 15px;">
                <label for="trigger">‚ö° Trigger <abbr title="Required">*</abbr></label>
                <div style="display: flex; align-items: center; gap: 5px;">
                    <span style="font-size: 1.2em;" aria-hidden="true">!</span>
                    <input
                        type="text"
                        name="trigger"
                        id="trigger"
                        placeholder="g"
                        value="<%= state.input && state.input.trigger ? state.input.trigger : '' %>"
                        style="width: 100%;"
                        required
                        aria-describedby="trigger-help <%= state.errors && state.errors.trigger ? 'trigger-error' : '' %>"
                    >
                </div>
                <small id="trigger-help">The command to trigger this action (e.g., 'g' for Google)</small>
                <% if (state.errors && state.errors.trigger) { %>
                    <small id="trigger-error" style="color: red;" role="alert"><%= state.errors.trigger %></small>
                <% } %>
            </div>

            <%- include('../../components/inputs/url.html', {
                id: 'url',
                name: 'url',
                label: 'üåê URL',
                value: bookmark.url,
                style: 'width: 100%;',
                required: true,
                readonly: true,
                helpText: 'This URL will be used for the redirect action',
                error: state.errors && state.errors.url ? state.errors.url : undefined
            }) %>
        </fieldset>

        <div style="display: flex; justify-content: flex-end; gap: 10px; margin-top: 10px;">
            <button type="button" onclick="location.href='/bookmarks'">‚ùå Cancel</button>
            <button type="submit">üíæ Save</button>
        </div>
    </form>
</section>
