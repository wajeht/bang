<section style="display: flex; flex-direction: column; gap: 30px;">
    <header style="display: flex; justify-content: space-between; align-items: center;">
        <div>
            <h2>ğŸ“ <%= note.title %></h2>
            <div style="display: flex; gap: 15px;">
                <div>ğŸ“… Created: <time datetime="<%= note.created_at %>"><%= new Date(note.created_at).toLocaleDateString() %></time></div>
                <% if (note.updated_at && note.updated_at !== note.created_at) { %>
                    <div>ğŸ”„ Updated: <time datetime="<%= note.updated_at %>"><%= new Date(note.updated_at).toLocaleDateString() %></time></div>
                <% } %>
            </div>
        </div>

        <div style="display: flex; gap: 10px;">
            <button type="button" onclick="location.href='/notes'" aria-label="Go back to notes list">â† Back to Notes</button>
            <button type="button" onclick="location.href='/notes/<%= note.id %>/edit'" aria-label="Edit this note">âœï¸ Edit</button>
            <button type="button" onclick="document.getElementById('delete-note-modal').showModal()" aria-label="Delete this note">ğŸ—‘ï¸ Delete</button>
        </div>
    </header>

    <article style="border-style: dashed; border-radius: 5px; padding: 20px; display: flex; flex-direction: column; gap: 10px;">
        <div class="content"><%- note.content %></div>
    </article>
</section>

<dialog id="delete-note-modal" aria-labelledby="delete-note-title">
    <h2 id="delete-note-title">Confirm</h2>
    <p>Are you sure you want to delete <strong><%= note.title %></strong>?</p>
    <form action="/notes/<%= note.id %>/delete" method="POST">
        <%- include('../components/input-csrf.html') %>
        <div style="display: flex; justify-content: flex-end; gap: 10px; margin-top: 20px;">
            <button type="button" onclick="this.closest('dialog').close()">âŒ Cancel</button>
            <button type="submit">ğŸ—‘ï¸ Delete</button>
        </div>
    </form>
</dialog>
