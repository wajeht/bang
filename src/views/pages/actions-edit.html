<section style="display: flex; flex-direction: column; gap: 20px;">
  <header>
      <h2>‚ö° Actions / Edit</h2>
      <p>Edit your action</p>
  </header>

  <form
      method="POST"
      action="/actions/<%= action.id %>/update"
      style="border-style: dashed; border-radius: 5px; padding: 20px; width: 32.5%; display: flex; flex-direction: column; gap: 10px;"

  >
      <input type="hidden" id="csrfToken" name="csrfToken" value="<%= csrfToken %>" />

      <fieldset style="border: none; padding: 0; margin: 0;">
          <legend style="font-weight: bold; margin-bottom: 15px;">Action Details</legend>

          <div style="display: flex; flex-direction: column; gap: 5px; margin-bottom: 15px;">
              <label for="name">üìù Name <abbr title="Required">*</abbr></label>
              <input
                  type="text"
                  id="name"
                  name="name"
                  placeholder="Google Search"
                  value="<%= action.name %>"
                  required
                  aria-describedby="name-help <%= state.errors.name ? 'name-error' : '' %>"
              >
              <small id="name-help">A descriptive name for your action</small>
              <% if (state.errors.name) { %>
                  <small id="name-error" style="color: red;" role="alert"><%= state.errors.name %></small>
              <% } %>
          </div>

          <div style="display: flex; flex-direction: column; gap: 5px; margin-bottom: 15px;">
              <label for="trigger">‚ö° Trigger <abbr title="Required">*</abbr></label>
              <div style="display: flex; align-items: center; gap: 5px;">
                  <span style="font-size: 1.2em;" aria-hidden="true">!</span>
                  <input
                      type="text"
                      name="trigger"
                      id="trigger"
                      placeholder="g"
                      value="<%= action.trigger.slice(1) %>"
                      required
                      aria-describedby="trigger-help <%= state.errors.trigger ? 'trigger-error' : '' %>"
                  >
              </div>
              <small id="trigger-help">The command to trigger this action (e.g., 'g' for Google)</small>
              <% if (state.errors.trigger) { %>
                  <small id="trigger-error" style="color: red;" role="alert"><%= state.errors.trigger %></small>
              <% } %>
          </div>

          <div style="display: flex; flex-direction: column; gap: 5px; margin-bottom: 15px;">
              <label for="url">üåê URL <abbr title="Required">*</abbr></label>
              <input
                  type="url"
                  name="url"
                  id="url"
                  placeholder="https://google.com/search?q={query}"
                  value="<%= action.url %>"
                  required
                  aria-describedby="url-help <%= state.errors.url ? 'url-error' : '' %>"
              >
              <small id="url-help">For search actions, use {query} where the search term should go</small>
              <% if (state.errors.url) { %>
                  <small id="url-error" style="color: red;" role="alert"><%= state.errors.url %></small>
              <% } %>
          </div>

          <div style="display: flex; flex-direction: column; gap: 5px; margin-bottom: 15px;">
              <label for="actionType">üè∑Ô∏è Action Type <abbr title="Required">*</abbr></label>
              <select
                  id="actionType"
                  name="actionType"
                  required
                  aria-describedby="actionType-help"
              >
                  <option value="">Choose an action type</option>
                  <option value="search" <%= action.action_type === 'search' ? 'selected' : '' %>>Search</option>
                  <option value="redirect" <%= action.action_type === 'redirect' ? 'selected' : '' %>>Redirect</option>
              </select>
              <small id="actionType-help">Select the type of action to perform</small>
          </div>
      </fieldset>

      <div style="display: flex; gap: 10px;">
          <button type="submit" style="flex: 1;">üíæ Save</button>
      </div>
  </form>
</section>
